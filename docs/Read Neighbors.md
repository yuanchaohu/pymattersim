# Read Neighboring property

This module is used to read the property of neighboring particles from a saved file, as long as the format of file is compatible, as like ***neighborlist.dat***. Note that this module reads one Snapshot a time to save computer memory. If you have multiple snapshots, you can import this module in a loop (see example).

## Input Arguments

- `f` (`TextIO`): opened file which save the property of neighboring particles, `f = open(filename, 'r')`. Opening the file outside of the function ensures that when reading a file containing multiple snapshots, the file pointer can move to the next snapshot.
- `Nmax` (`int`): the maximum number of neighboring particles to consider. Setting `Nmax` to a sufficiently large value is ideal, with the default being 200. `Nmax` is defined to address the varying number of neighboring particles among different particles. In this way, we can create a regular two-dimensional NumPy array to save the property of neighboring particles.

## Return

two-dimensional numpy array, with shape (`nparticle`, `1+Nmax_fact`). `Nmax_fact` means the maximum coordination number for one particle in the system. The first column is the coordination number (***cn***), so number of columns plus 1. For particles with coordination number less than `Nmax_fact` (which is generally the case), the unoccupied positions in `neighborprop` (see source code) are padded with `0`.

## Important Notes

In the saved ***neighborlist.dat***, the particle ID is counted from 1. While in this read module, the returned neighborlist is counted from 0. This is to facilitate subsequent indexing operations.

### Example

- Read neighborlist:

  ```python
  from neighbors.read_neighbors import read_neighprop
  
  filename = 'neighborlist.dat'
  f = open(filename, 'r')
  neighborprop = read_neighprop(f, nparticle=8100, Nmax=200)
  f.close()
  ```

- Read facearealist:

  ```python
  from neighbors.read_neighbors import read_neighprop
  filename = 'dump.facearea.dat'	# generated by carrying out Voronoi analysis module
  f = open(filename, 'r')
  neighborprop = read_neighprop(f, nparticle=8100, Nmax=200)
  f.close()
  ```

- Read in multiple snapshots:

  ```python
  from neighbors.read_neighbors import read_neighprop
  
  neighborprops = []
  filename = 'neighborlist.dat'
  f = open(filename, 'r')
  for i in range(2):	# the example dump file contains 2 snapshots
      neighborprops.append(read_neighprop(f, nparticle=8100, Nmax=200))
  f.close()
  ```

  
